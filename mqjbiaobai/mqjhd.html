<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1,user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <title>谢谢你的爱</title>
    <link href=" css/swiper-4.2.0.min.css" rel="stylesheet" type="text/css">
    <link href=" css/animate.min.css" rel="stylesheet" type="text/css">
    <link href=" css/mui.min.css" rel="stylesheet" type="text/css">
    <link href=" css/main.css" rel="stylesheet" type="text/css">
    <link href=" css/ioader.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href=" css/style.css">
</head>
<body>
<div id="loader-wrapper">
    <div id="loader" class="animated"></div>
    <div class="loader-section section-left animated "></div>
    <div class="loader-section section-right animated "></div>
    <div class="logo animated "><img src=" imags/logo.png"></div>
    <!--<div class="load_title animated ">谢谢你的爱<br><span>换课网</span></div>-->
    <div class="load_title animated bounceIn"><img src=" imags/116be898ccdb6ce352bf66fe0c9ec07f.png"></div>
    <!--<div class="hkw">换课网</div>-->
    <div id="petalbox"></div>
</div>
<div class="mui-content">
    <div id="swiper1" class="swiper-container">
        <div class="swiper-wrapper">
            <div class="swiper-slide">
                <div class="ai-beijing" style="background-image:url( imags/d000baa1cd11728bd13091b7c0fcc3cec3fd2c01.png)">
                    <div class="ani ai-1" swiper-animate-effect="bounceInDown" swiper-animate-duration="2s"
                         swiper-animate-delay="6s"><img src=" imags/aisct.png"></div>
                    <div class="ani ai-2" swiper-animate-effect="fadeInUp" swiper-animate-duration="2s"
                         swiper-animate-delay="7s"><img src=" imags/qmbb.png"></div>
                </div>
            </div>
            <div class="swiper-slide" data-swiper-autoplay="2500">
                <div class="ai-beijing" style="background-image:url( imags/ed9b07b701.jpg)">
                    <!--<canvas id="drawHeart"></canvas>-->
                    <div class="b_10_3">
                        <canvas id="aiCanvas"></canvas>
                        <div id="tags" style="display: none;">
                            <a href="#">女神</a>
                            <a href="#">老妈</a>
                            <a href="#">唠叨婆</a>
                            <a href="#">老婆</a>
                            <a>❤</a>
                            <a href="#">老伴</a>
                            <a href="#">娘亲</a>
                            <a href="#">妈咪</a>
                            <a href="#">老太婆</a>
                            <a href="#">孩儿他妈</a>
                            <a href="#">管家婆</a>
                            <a href="#">女神经</a>
                            <a href="#">娘</a>
                            <a href="#">妈妈</a>
                            <a>❤</a>
                            <a href="#">剁手女王</a>
                            <a href="#">女神</a>
                            <a href="#">老妈</a>
                            <a href="#">唠叨婆</a>
                            <a href="#">老婆</a>
                            <a href="#">老伴</a>
                            <a href="#">娘亲</a>
                            <a>❤</a>
                            <a href="#">妈咪</a>
                            <a href="#">老太婆</a>
                            <a href="#">孩儿他妈</a>
                            <a>❤</a>
                            <a href="#">管家婆</a>
                            <a href="#">女神经</a>
                            <a href="#">娘</a>
                            <a href="#">妈妈</a>
                            <a href="#">剁手女王</a>
                            <a>❤</a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="swiper-slide">
                <div class="ai-beijing" style="background-image:url( imags/cc26936.jpg)">
                    <div class="autotype">
                        <p class="ani" swiper-animate-effect="fadeInDown" swiper-animate-duration="0.5s"
                           swiper-animate-delay="0.5s">任凭过去、现在、未来</p>
                        <p class="ani" swiper-animate-effect="bounceIn" swiper-animate-duration="0.5s"
                           swiper-animate-delay="1s" style="color: #cf2d28">❤</p>
                        <p class="ani" swiper-animate-effect="fadeInDown" swiper-animate-duration="0.5s"
                           swiper-animate-delay="1.5s">能称呼为母亲的</p>
                        <p class="ani" swiper-animate-effect="fadeInDown" swiper-animate-duration="0.5s"
                           swiper-animate-delay="2s">这辈子只有那么一位</p>
                        <p class="ani" swiper-animate-effect="bounceIn" swiper-animate-duration="0.5s"
                           swiper-animate-delay="2.5s" style="color: #cf2d28">❤</p>
                        <p class="ani" swiper-animate-effect="fadeInDown" swiper-animate-duration="0.5s"
                           swiper-animate-delay="3s">您微微地笑着，不说什么话</p>
                        <p class="ani" swiper-animate-effect="fadeInDown" swiper-animate-duration="0.5s"
                           swiper-animate-delay="3.5s">掖一掖我的被角</p>
                        <p class="ani" swiper-animate-effect="fadeInDown" swiper-animate-duration="0.5s"
                           swiper-animate-delay="4s">我似睡非睡</p>
                        <p class="ani" swiper-animate-effect="fadeInDown" swiper-animate-duration="0.5s"
                           swiper-animate-delay="4.5s">多少年我都在您的深情里生活</p>
                    </div>
                    <div class="ai-xiexing ani" swiper-animate-effect="bounceIn" swiper-animate-duration="1s"
                         swiper-animate-delay="5s">
                        <h5 class="ai-woyxqs">写情书</h5><!--点击写情书首先需要用户注册换课网账号在写情书-->
                        <img class="ai-souz animated pulse" src=" imags/a7ddc5ec898a4c98e4e8c1f963b576ce.png">
                        <img class="ai-hdgz animated pulse" src=" imags/hdgz.png">
                    </div>
                    <div class="ani ai-logo" swiper-animate-effect="bounceIn" swiper-animate-duration="1s"
                         swiper-animate-delay="5.5s">
                        <img src=" imags/ai-logo.png"></div>
                </div>
            </div>
        </div>
    </div>
    <div class="ai-hdguiz animated">
        <div class="ai-hdguiznk">
            <h5> 活动时间</h5>
            <p style="color: #cf2d28">❤</p>
            <p>5月11日至5月13日</p>
            <h5>活动方式</h5>
            <p style="color: #cf2d28">❤</p>
            <p>点击写情书，输入想对妈妈说的话！</p>
            <p>点击随机，自动生成对妈妈的祝福！</p>
            <p>确认后即可生成自己的专属情书啦！</p>
            <h5>活动说明</h5>
            <p style="color: #cf2d28">❤</p>
            <p>本次活动最终解释权归全通云教育科技成都有限公司所有</p>
            <span class="ai-guanbi">&Chi;</span>
        </div>
    </div>
    <div class="ai-xieqingsu">
        <div class="ai-xieshuig">
            <div id="swiper2" class="swiper-container">
                <div class="swiper-wrapper">
                    <div class="swiper-slide">
                        <div id="content">
                            <div class="ai-biaoti">
                                <p>我的一生要和很多人说很多的话</p>
                                <p>今天这句，只想说给妈妈听</p>
                            </div>
                            <div class="ai-hk-01">
                                <img src=" imags/0.jpg">
                                <div class="sh"></div>
                                <div class="ai-text">
                                    <div class="ai-textnrong">
                                        <h5>亲爱的妈妈:</h5>
                                        <p>您是我的骄傲！祝愿您身体健康，笑口常开！</p>
                                    </div>
                                    <span class="ai-qinmin-img"><img id="myimg0" src=" imags/qingminf.png"> </span>
                                </div>
                                <div class="ai-ewmgunga ai-ewmgunga-no">
                                    <div class="ai-qmbbai"><img src=" imags/qmbb.png"></div>
                                    <div class="ai-caxqs">
                                        <img src=" imags/acsbewm.jpg">
                                        <p>长按关注回复<span>情书</span><br/>订制你的专属情书</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="ai-xieanu">
            <button class="ai-sj mui-btn  mui-btn-warning"><p>✉</p>随机</button>
            <button class="ai-xqs mui-btn mui-btn-danger"><p>❤</p>写情书</button>
            <button class="ai-qr mui-btn mui-btn-primary" onclick="copy()"><p>✔</p>确认</button>
            <!-- <p>点击文字可以修改想要说对妈妈说的话哦!点击签名可以自定义签名!</p>-->
        </div>
    </div>
    <div class="ai-jietump">
        <div class="dasf"><img class="wximg"></div>
        <div class="ai-daiwoquyf">
            <button class="mui-btn mui-btn-success ai-baocuntup">&uarr;长按上面图片保存分享&uarr;</button>
            <button id="ai-zhuantiao" class="mui-btn mui-btn-danger">链接按钮</button><!--点击按钮跳转到推荐课程列表页面-->
        </div>
    </div>
</div>
<div class="ai-qingmingbox">
    <div style="border: 1px solid #dd524d;">
        <canvas id="myCanvas"></canvas>
    </div>
    <div class="ai-qingming">
        <p>请在红框内写入你的签名</p>
        <button onclick="clean();" class="mui-btn mui-btn-warning">清除</button>
        <button onclick="save();" class="mui-btn mui-btn-primary">完成</button>
    </div>
</div>
<div class="ai-qistext">
    <p>称呼:</p>
    <input type="text">
    <p>写出你想对妈妈说的话:</p>
    <textarea></textarea>
    <div class="ai-xiugaitext">
        <button class="mui-btn ai-quex">取消</button>
        <button class="mui-btn mui-btn-danger ai-quereng">确认</button>
    </div>
</div>
<div class="ai-mp3 ">
    <div class=" ai-play  one"></div>
</div>
<!--<div class="ai-jtou animated fadeInDown"><img src="imags/a2cc7cd98d1001e94758d6d7be0e7bec55e79786.jpg"></div>-->
<audio id="ai-mp3" class="" controls>
    <source src=" ProudOfYou.mp3">
</audio>
</div>
<!--<script src="js/hb.js"></script>-->
<script src=" js/jquery-3.1.0.min.js"></script>
<script src=" js/swiper-4.2.0.min.js"></script>
<script src=" js/swiper.animate1.0.3.min.js"></script>
<script src=" js/html2canvas.min.js"></script>
<script src=" js/mui.min.js"></script>
<script src=" js/tagcanvas.min.js"></script>
<script type="text/javascript">
    // 等待所有加载  fadeOutDown fadeOutLeftBig fadeOutRightBig
    setTimeout(function () {
        $('#loader').remove();
        $('.logo').addClass('fadeOut');
        $('.section-left').addClass('fadeOutLeftBig');
        $('.section-right').addClass('fadeOutRightBig');
        $('.load_title').addClass('fadeOut');
        $('.hkw').addClass('fadeOutDown');
    }, 6000)
    setTimeout(function () {
        $('#loader').remove();
        $('.logo').addClass('fadeOut');
        $('.section-left').addClass('fadeOutLeftBig');
        $('.section-right').addClass('fadeOutRightBig');
        $('.load_title').addClass('fadeOut');
        $('.hkw').addClass('fadeOutDown');
        $('#loader-wrapper').remove();
    }, 9000)
</script>
<script type='text/javascript'>

    function myhb() {

        (function () {
                    /* Define the number of leaves to be used in the animation */
                var NUMBER_OF_LEAVES = 180;

                    /*
                     Called when the "Falling Leaves" page is completely loaded.
                     */
                function init() {
                    /* Get a reference to the element that will contain the leaves */
                    var container = document.getElementById('petalbox');

                    /* Fill the empty container with new leaves */
                    try {
                        for (var i = 0;
                             i < NUMBER_OF_LEAVES;

                             i++) {
                            container.appendChild(createALeaf());
                        }
                    }
                    catch (e) {
                    }
                }

                    /*
                     Receives the lowest and highest values of a range and
                     returns a random integer that falls within that range.
                     */
                function randomInteger(low, high) {
                    return low + Math.floor(Math.random() * (high - low));
                }

                    /*
                     Receives the lowest and highest values of a range and
                     returns a random float that falls within that range.
                     */
                function randomFloat(low, high) {
                    return low + Math.random() * (high - low);
                }

                    /*
                     Receives a number and returns its CSS pixel value.
                     */
                function pixelValue(value) {
                    return value + 'px';
                }

                    /*
                     Returns a duration value for the falling animation.
                     */
                function durationValue(value) {
                    return value + 's';
                }

                    /*
                     Uses an img element to create each leaf. "Leaves.css" implements two spin
                     animations for the leaves: clockwiseSpin and counterclockwiseSpinAndFlip. This
                     function determines which of these spin animations should be applied to each leaf.

                     */
                function createALeaf() {
                    /* Start by creating a wrapper div, and an empty img element */
                    var leafDiv = document.createElement('div');
                    var image = document.createElement('img');

                    /* Randomly choose a leaf image and assign it to the newly created element */
                    image.src = ' images/hb/petal' + randomInteger(1, 10) + '.png';

                    /* Position the leaf at a random location along the screen */
                    leafDiv.style.top = pixelValue(randomInteger(-200, -100));
                    leafDiv.style.left = pixelValue(randomInteger(0, 1920));

                    /* Randomly choose a spin animation */
                    var spinAnimationName = (Math.random() < 0.5) ? 'clockwiseSpin' : 'counterclockwiseSpinAndFlip';
                    /* Set the -webkit-animation-name property with these values */
                    leafDiv.style.webkitAnimationName = 'fade, drop';
                    leafDiv.style.animationName = 'fade, drop';
                    image.style.webkitAnimationName = spinAnimationName;
                    image.style.animationName = spinAnimationName;

                    /* 随机下落时间 */
                    var fadeAndDropDuration = durationValue(randomFloat(1.2, 8.2));

                    /* 随机旋转时间 */
                    var spinDuration = durationValue(randomFloat(3, 4));

                    leafDiv.style.webkitAnimationDuration = fadeAndDropDuration + ', ' + fadeAndDropDuration;
                    leafDiv.style.animationDuration = fadeAndDropDuration + ', ' + fadeAndDropDuration;

                    // 随机delay时间
                    var leafDelay = durationValue(randomFloat(0, 2));

                    leafDiv.style.webkitAnimationDelay = leafDelay + ', ' + leafDelay;
                    leafDiv.style.animationDelay = leafDelay + ', ' + leafDelay;
                    image.style.webkitAnimationDuration = spinDuration;
                    image.style.animationDuration = spinDuration;
                    leafDiv.appendChild(image);
                    return leafDiv;
                }

                init();
            })();
    };
</script>
<script>
    var mySwiper = new Swiper('#swiper1', {
        // autoplay: true,//可选选项，自动滑动
        direction: 'vertical',
        allowTouchMove: false,
        effect: 'fade',
        autoplay: {
            delay: 10000,//1秒切换一次
            stopOnLastSlide: true,
        },
        on: {
            init: function () {
                swiperAnimateCache(this); //隐藏动画元素
                swiperAnimate(this); //初始化完成开始动画
            },
            slideChangeTransitionEnd: function () {
                swiperAnimate(this); //每个slide切换结束时也运行当前slide动画
            }
        }
    });

</script>
<script>
    function myFunction() {
        var div = document.getElementsByClassName("one")[0];
        // console.log(div);
        setCss3(div, {transform: "rotate(10deg)", "transform-origin": "50% 50%"})
        var angel = 0;
        animation_duration = setInterval(function () {
            angel += 8;
            setCss3(div, {transform: "rotate(" + angel + "deg)", "transform-origin": "50% 50%"})
        }, 30)
        function setCss3(obj, objAttr) {
            //循环属性对象
            for (var i in objAttr) {
                var newi = i;
                //判断是否存在transform-origin这样格式的属性
                if (newi.indexOf("-") > 0) {
                    var num = newi.indexOf("-");
                    newi = newi.replace(newi.substr(num, 2), newi.substr(num + 1, 1).toUpperCase());
                }
                //考虑到css3的兼容性问题,所以这些属性都必须加前缀才行
                obj.style[newi] = objAttr[i];
                newi = newi.replace(newi.charAt(0), newi.charAt(0).toUpperCase());
                obj.style[newi] = objAttr[i];
                obj.style["webkit" + newi] = objAttr[i];
                obj.style["moz" + newi] = objAttr[i];
                obj.style["o" + newi] = objAttr[i];
                obj.style["ms" + newi] = objAttr[i];
            }
        }

    }
</script>
<script>
    var music = document.getElementById("ai-mp3");
    //  var audio = document.createElement("ai-mp3");
    music.src = " ProudOfYou.mp3";
    music.addEventListener("canplaythrough",
        function () {
            music.play();
            myhb();
            myFunction();
        },
        false);
    music.load();
    document.getElementById('ai-mp3').play();
    document.addEventListener("WeixinJSBridgeReady", function () {
        WeixinJSBridge.invoke('getNetworkType', {}, function (e) {
            document.getElementById('ai-mp3').play();
        });
    }, false);


    mui(".ai-mp3").on('tap', '.ai-play', function () {
        if (music.paused) {
            music.play();
            $(this).toggleClass('ai-pause');
            myFunction();
        } else {
            music.pause();
            $(this).toggleClass('ai-pause');
            window.clearInterval(animation_duration);//清除动画
        }
    });

</script>
<script>
    mui(".ai-xiexing").on('tap', '.ai-hdgz', function () {
        $('.ai-hdguiz').show().removeClass('bounceOut').addClass('bounceIn');//打开活动说明
    });
    mui(".ai-hdguiz").on('tap', '.ai-guanbi', function () {
        $(".ai-hdguiz").removeClass('bounceIn').addClass('bounceOut').hide();//关闭活动说明
    });
</script>
<script>
    mui("#swiper2").on('tap', '.ai-qinmin-img', function () {
        $('.ai-qingmingbox').show();
    });//修改签名
    mui(".ai-xieanu").on('tap', '.ai-xqs', function () {
        var cf = '';
        var qa = '';
        $(".ai-qistext").find('input[type=text]').val(cf);
        $(".ai-qistext").find('textarea').val(qa);
        $('.ai-qistext').show();
        $('.ai-qistext').find('input[type=text]').trigger("click").focus();
    });//写情书
    mui("#swiper2").on('tap', '.ai-textnrong', function () {
        var cf = $(this).find('h5').text();
        var qa = $(this).find('p').text();
        $(".ai-qistext").find('input[type=text]').val(cf);
        $(".ai-qistext").find('textarea').val(qa);
        $('.ai-qistext').show();
    });//修改情书内容
    mui(".ai-qistext").on('tap', '.ai-quereng', function () {
        var cft = $(".ai-qistext").find('input[type=text]').val();
        var qat = $(".ai-qistext").find('textarea').val();
        $('#swiper2').find('.ai-text h5').text(cft);
        $('#swiper2').find('.ai-text p').text(qat);
        $('.ai-qistext').hide();
        jianqie();
    });//确定修改情书内容
    mui(".ai-qistext").on('tap', '.ai-quex', function () {
        $('.ai-qistext').hide();
    });//取消修改情书内容
</script>
<script>
    var mySwiper2 = new Swiper('#swiper2', {
        autoplay: false,//可选选项，自动滑动
        allowTouchMove: false,
        // loop : true,
    });
    mui(".ai-xieanu").on('tap', '.ai-sj', function () {
        var arrtxt = ["听说神不能无所不在，所以创造了妈妈。",
            "妈，还是你做的糖醋排骨最好吃。",
            "女本柔弱，为母则刚，妈妈，祝您节日快乐！",
            "世上唯一没有被污染的爱——那便是母爱。",
            "妈妈呀，其实我赞同，您跳的广场舞最好看！",
            "千言万语——妈妈我爱您！",
            "在这个专属您的日子里，我想跟您说——谢谢您，妈妈！",
            "妈，今年我一定回家!",
            "妈妈，您给予我如此灿烂美好的生命！I love you forever!",
            "亲爱的妈妈：您是我的骄傲！祝愿您身体健康，笑口常开！",
            "愿妈妈安康、长寿！少劳累，多享福！",
            "妈妈，今天是母亲节我想对您说：“妈妈我爱您。”",
            "在这个特殊的节日里我衷心祝福我的妈妈节日快乐！道一声您辛苦了！"];//文案
        var arrimg = [ "0", "1", "2", "3", "4", "5","6","7", "8", "9", "10", "11", "12"];//图片地址
        var index = Math.floor((Math.random() * arrtxt.length));
        var txt = arrtxt[index];
        var timg = arrimg[index];
        $('#swiper2').find('.swiper-wrapper').html("<div class='swiper-slide'> " +
            "<div class='ai-biaoti'>" +
            "<p class='animated fadeInUp'>我的一生要和很多人说很多的话</p>" +
            "<p class='animated fadeInUp'>今天这句，只想说给妈妈听</p>" +
            "</div>" +
            "<div class='ai-hk-01 animated bounceIn'> " +
            "<img src=' imags/" + timg + ".jpg'>" +
            "<div class='sh'></div>" +
            "<div class='ai-text'>" +
            "<div class='ai-textnrong'>" +
            "<h5>亲爱的妈妈:</h5>" +
            "<p>" + txt + "</p>" +
            "</div>" +
            "<span class='ai-qinmin-img'><img id='myimg0' src=' imags/qingminf.png'> </span>" +
            "</div>" +
            "<div class='ai-ewmgunga ai-ewmgunga-no'>" +
            "<div class='ai-qmbbai'><img src=' imags/qmbb.png'></div>" +
            "<div class='ai-caxqs'>" +
            "<img src=' imags/acsbewm.jpg'>" +
            "<p>长按关注回复<span>情书</span><br/>订制你的专属情书</p>" +
            "</div>" +
            "</div>" +
            "</div> " +
            "</div>");
        img = document.getElementById('myimg0');
        jianqie();
    });
    var canvas, board, img;
    canvas = document.getElementById('myCanvas');
    img = document.getElementById('myimg0');
    var h = document.body.clientHeight;
    var w = document.body.clientWidth;
    canvas.height = 200;
    canvas.width = w - 2;
    board = canvas.getContext('2d');
    var mousePress = false;
    var last = null;

    function beginDraw() {
        mousePress = true;
    }
    function drawing(event) {
        event.preventDefault();
        if (!mousePress)return;
        var xy = pos(event);
        if (last != null) {
            board.beginPath();
            board.moveTo(last.x, last.y);
            board.lineTo(xy.x, xy.y);
            board.stroke();
        }
        last = xy;
    }
    function endDraw(event) {
        mousePress = false;
        event.preventDefault();
        last = null;
    }
    function pos(event) {
        var x, y;
        if (isTouch(event)) {
            x = event.touches[0].pageX;
            y = event.touches[0].pageY;
        } else {
            x = event.offsetX + event.target.offsetLeft;
            y = event.offsetY + event.target.offsetTop;
        }
        // log('x='+x+' y='+y);
        return {x: x, y: y};
    }

    function log(msg) {
        var log = document.getElementById('log');
        var val = log.value;
        log.value = msg + 'n' + val;
    }

    function isTouch(event) {
        var type = event.type;
        if (type.indexOf('touch') >= 0) {
            return true;
        } else {
            return false;
        }
    }

    function save() {
        //base64
        var dataUrl = canvas.toDataURL();
        //document.getElementById('textId').innerText(dataUrl);
//			 document.getElementById("textId").innerHTML = dataUrl;
        // dataUrl = dataUrl.replace("image/png","image/octet-stream");
        img.src = dataUrl;
        $('.ai-qingmingbox').hide();
        jianqie();
    }


    function clean() {
        board.clearRect(0, 0, canvas.width, canvas.height);
    }
    board.lineWidth = 2;
    board.strokeStyle = "#333";
    canvas.onmousedown = beginDraw;
    canvas.onmousemove = drawing;
    canvas.onmouseup = endDraw;
    canvas.addEventListener('touchstart', beginDraw, false);
    canvas.addEventListener('touchmove', drawing, false);
    canvas.addEventListener('touchend', endDraw, false);
</script>
<script>//截图
mui(".ai-xiexing").on('tap', 'h5', function () {
    $('#swiper1').hide();
    $('.ai-xieqingsu').show();
    jianqie();
});//写情书
var pic;
function jianqie() {
    var canvas2 = document.createElement("canvas");
    var _canvas = document.querySelector('.ai-hk-01');
    var w = parseInt(window.getComputedStyle(_canvas).width);
    var h = parseInt(window.getComputedStyle(_canvas).height);
//将canvas画布放大若干倍，然后盛放在较小的容器内，就显得不模糊了
    canvas2.width = w * 2;
    canvas2.height = h * 2;
    canvas2.style.width = w + "px";
    canvas2.style.height = h + "px";
//可以按照自己的需求，对context的参数修改,translate指的是偏移量
    var context = canvas2.getContext("2d");
    context.scale(2, 2);
    context.translate(-20, -66);
    html2canvas(document.querySelector('.ai-hk-01'), {canvas: canvas2}).then(function (canv) {
        pic = canv;
        //canvas转换成url，然后利用a标签的download属性，直接下载，绕过上传服务器再下载
        // document.querySelector(".down").setAttribute('href',canvas.toDataURL());
        document.querySelectorAll(".wximg")[0].src = pic.toDataURL();
    });
}

//点击的时候把图片复制到下面那个div下
function copy() {
    $('.ai-ewmgunga').removeClass("ai-ewmgunga-no")
    jianqie();
    //  document.querySelector(".dasf").appendChild(pic);
    $('.ai-xieqingsu').hide();
    $('.ai-jietump').show();
}
</script>
<script type="text/javascript">
    var aicanvas = document.getElementById('aiCanvas');
    var wW1 = document.body.clientWidth;
    var wH1 = window.innerHeight;
    aicanvas.width = wW1;
    aicanvas.height = wH1;
    window.onload = function () {
        try {
            var i, et = document.getElementById('tags').childNodes;
            for (i in et) {
                et[i].nodeName == 'A' && et[i].addEventListener('click', function (e) {
                    e.preventDefault();
                });
            }
            TagCanvas.Start('aiCanvas', 'tags', {
                textColour: '#333',
                outlineColour: '#fff',
                reverse: true,
                depth: 1,
                dragControl: true,
                decel: 0.5,
                maxSpeed: 0.1,
                initial: [-0.2, 0]
            });
        } catch (e) {
            // something went wrong, hide the canvas container
            //document.getElementById('myCanvasContainer').style.display = 'none';
        }
    };
</script>
<!--链接按钮-->
<script>
    document.getElementById('ai-zhuantiao').addEventListener('tap', function() {
        //打开课程页面
        mui.openWindow({
            url: 'http://hk.yunjy.com.cn/',
            id:'ai-zhuantiao'
        });
    });
</script>
</body>
</html>